-- ##############################################
-- Initial Setup
--
-- ##############################################



--
-- REGISTRANTS
--
CREATE TABLE IF NOT EXISTS REGISTRANTS(
REGISTRANTID BIGINT GENERATED BY DEFAULT AS IDENTITY
                                         (START WITH 1, INCREMENT BY 1) NOT NULL,
FIRSTNAME VARCHAR(50) NOT NULL,
LASTNAME VARCHAR(50) NOT NULL,
EMAIL VARCHAR(128) NOT NULL,
CREATETIME DATE,
PRIMARY KEY(REGISTRANTID)
);

--
-- LINKEDINPROFILE
--
CREATE TABLE IF NOT EXISTS LINKEDINPROFILE(
    PROFILEID BIGINT GENERATED BY DEFAULT AS IDENTITY
         (START WITH 1, INCREMENT BY 1) NOT NULL,
    REGISTRANTID BIGINT,
    FIRSTNAME VARCHAR(50) NOT NULL,
    LASTNAME VARCHAR(50) NOT NULL,
    EMAIL VARCHAR(128) NOT NULL,
    CREATETIME DATE,
    PRIMARY KEY(PROFILEID)
);

ALTER TABLE LINKEDINPROFILE ADD FOREIGN KEY (REGISTRANTID)
REFERENCES REGISTRANTS(REGISTRANTID);


--
-- LINKEDINCOMPANYPROFILE
--
CREATE TABLE IF NOT EXISTS LINKEDINCOMPANYPROFILE(
    COMPANYPROFILEID BIGINT GENERATED BY DEFAULT AS IDENTITY
        (START WITH 1, INCREMENT BY 1) NOT NULL,
    PROFILEID BIGINT,
    NAME VARCHAR(100) NOT NULL,
    TITLE VARCHAR(50) NOT NULL,
    SUMMARY VARCHAR(256),
    INDUSTRY VARCHAR(50),
    COMPANYSIZE VARCHAR(28),
    TICKER VARCHAR(28),
    TYPE VARCHAR(50),
    ISCURRENT BOOLEAN,
    STARTDATE DATE,
    PRIMARY KEY(COMPANYPROFILEID)
);

ALTER TABLE LINKEDINCOMPANYPROFILE ADD FOREIGN KEY(PROFILEID)
REFERENCES LINKEDINPROFILE(PROFILEID);
